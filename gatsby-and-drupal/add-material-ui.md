# Add Material UI

## Summary

In order to give our application some style we'll use the popular [Material UI component library](https://material-ui.com/). A set of React components that implement the Google Material UI design language.

Using it is not required to learn how to integrate Drupal & Gatsby together, but we enjoy working with it and it allows us to focus on the important parts of these tutorials while still being able create an application with some basic styling.

In this tutorial we'll:

- Install @material-ui/core
- Update our applications existing components to make use of the components provided by the @material-ui/core library

By the end of this tutorial your application should use some components from the Material UI library to give it a bit of extra style.

## Goal

Install Material UI library and use it to provide some styling for your application.

## Install Material UI component library

Install the library, react-jss is required for our integration with Gatsby:

```shell
npm install --save @material-ui/core react-jss
```

We also need a couple of helper files from the [Material UI + Gatsby example](https://github.com/mui-org/material-ui/tree/master/examples/gatsby) to make it easier to integrate this library into our project. Specifically the [withRoot.js](https://raw.githubusercontent.com/mui-org/material-ui/master/examples/gatsby/src/withRoot.js), and [getPageContext.js](https://raw.githubusercontent.com/mui-org/material-ui/master/examples/gatsby/src/getPageContext.js) components:

```shell
cd src
curl -O https://raw.githubusercontent.com/mui-org/material-ui/master/examples/gatsby/src/withRoot.js
curl -O https://raw.githubusercontent.com/mui-org/material-ui/master/examples/gatsby/src/getPageContext.js
```

Check out the [Material UI project on GitHub](https://github.com/mui-org/material-ui), and the official home page at [https://material-ui.com/](https://material-ui.com/) for more information about the library and it's usage.

## Update the `Layout` component

Update the default layout component to make use of the Material UI library. Since `Layout` is used by all pages generated by Gatsby in our application we'll use it as the *root* element in our Material UI layout.

Update the `Layout` component in *src/components/layout.js* to match below:

```javascript
import React from 'react'
import PropTypes from 'prop-types'
import Helmet from 'react-helmet'
import { StaticQuery, graphql } from 'gatsby'

import Navigation from './Navigation/Navigation';

import { withStyles } from '@material-ui/core/styles';
import withRoot from '../withRoot';

const styles = theme => ({
  root: {
    width: 'auto',
    marginLeft: theme.spacing.unit * 3,
    marginRight: theme.spacing.unit * 3,
    [theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {
      width: 1100,
      marginLeft: 'auto',
      marginRight: 'auto',
    },
  },
});

const Layout = (props) => {
  const {children, classes} = props;

  return (
    <StaticQuery
      query={graphql`
        query SiteTitleQuery {
          site {
            siteMetadata {
              title
            }
          }
        }
      `}
      render={data => (
        <>
          <Helmet
            title={data.site.siteMetadata.title}
            meta={[
              {name: 'description', content: 'Sample'},
              {name: 'keywords', content: 'sample, something'},
            ]}
          >
            <html lang="en"/>
          </Helmet>
          <div className={classes.root}>
            <Navigation siteTitle={data.site.siteMetadata.title}/>
            <main>
              {children}
            </main>
          </div>
        </>
      )}
    />
  )
}

Layout.propTypes = {
  children: PropTypes.node.isRequired,
}

export default withRoot(withStyles(styles)(Layout));
```

This update uses the `withRoot`, and `withStyles` components to initialize the Material UI library. And establishes some very vanilla layout properties in `const styles`.

## Add a `Navigation` component.

Add the file *src/components/Navigation/Navigation.js*. We'll use this as the header, and navigation for our application:

```javascript
import React from 'react';
import PropTypes from 'prop-types';
import { Link } from 'gatsby';
import { withStyles } from '@material-ui/core/styles';
import AppBar from '@material-ui/core/AppBar';
import Button from '@material-ui/core/Button';
import Toolbar from '@material-ui/core/Toolbar';
import Typography from '@material-ui/core/Typography';

const styles = {
  root: {
    flexGrow: 1,
  },
  grow: {
    flexGrow: 1,
  },
  menu: {
    display: 'flex',
  },
  menuButton: {
    marginRight: '20px',
  }
};

function Navigation(props) {
  const { classes } = props;

  return (
    <div className={classes.root}>
      <AppBar position="relative" color="default">
        <Toolbar>
          <Typography variant="headline" className={classes.grow}>{props.siteTitle}</Typography>
          <div className={classes.menu}>
              <Button variant="default" component={Link} to="/" className={classes.menuButton}>Home</Button>
          </div>
        </Toolbar>
      </AppBar>
    </div>
  );
}

Navigation.propTypes = {
  classes: PropTypes.object.isRequired,
};

export default withStyles(styles)(Navigation);
```

## Add some style the the home page

Update the homage, *src/pages/index.js* to use the `Paper`, and `Typography` components for a little extra style:

```javascript
import React from 'react'
import PropTypes from 'prop-types';
import { Link } from 'gatsby'

import Layout from '../components/layout'

import { withStyles } from '@material-ui/core/styles';
import Paper from '@material-ui/core/Paper';
import Typography from '@material-ui/core/Typography';

const styles = theme => ({
  root: {
    ...theme.mixins.gutters(),
    paddingTop: theme.spacing.unit * 2,
    paddingBottom: theme.spacing.unit * 2,
  },
});

const IndexPage = (props) => {
  const {classes} = props;

  return (
    <Layout>
      <Paper className={classes.root}>
        <Typography variant="headline">Hi people</Typography>
        <Typography variant="subheading" paragraph>
          Welcome to your new Gatsby site using <a href="https://material-ui.com">Material UI</a> for the UI.
        </Typography>
        <Typography variant="subheading" paragraph>
          Now go build something great.
        </Typography>
        <Link to="/page-2/">Go to page 2</Link>
      </Paper>
    </Layout>
  );
};

IndexPage.propTypes = {
  classes: PropTypes.object.isRequired,
};

export default withStyles(styles)(IndexPage);
```

## Recap

In this tutorial we installed the @material-ui/core component library and then made use of some of the components it provides in order to give our application a Material UI like style. We'll use these components to provide UI for or application throughout the rest of this series of tutorials.

## Further your understanding

- Can you update the about page we created in the Hello World tutorial to match the styling used on the home page?
- Explore the list of available components in the [documentation for the Material UI library](https://material-ui.com/).
- We're no longer using the `Header` component from the Gatsby Default Starter. Go ahead and remove it to keep things tidy.

## Additional resources

- [https://material-ui.com/](https://material-ui.com/)
- [https://github.com/mui-org/material-ui](https://github.com/mui-org/material-ui)
